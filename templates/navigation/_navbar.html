<nav class="navbar">
    <button class="nav-toggle" type="button" aria-expanded="false" aria-controls="navDrawer">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <div class="nav-drawer" id="navDrawer">
        <div class="nav-drawer-header">
            <span>Meny</span>
            <button class="nav-close" type="button" aria-label="Lukk meny" data-nav-close>x</button>
        </div>

        <ul>
            <!-- Personlig navbar -->
            {% if session.get('active_role') == 'personlig' %}
            <li class="nav-dropdown">
                <button class="nav-dropdown-toggle" type="button" data-dropdown-toggle aria-expanded="false">
                    <svg class="icon dropdown-toggle-icon">
                        <use href="#icon-plus"></use>
                    </svg>
                    Lag ny bestilling
                </button>
                <div class="nav-dropdown-menu">
                    <a class="span-icon-holder {{ 'active' if request.endpoint == 'bestille_fra_kantina' else '' }}"
                        href="{{ url_for('bestille_fra_kantina') }}">
                        <span class="navbar-icon icon"></span> Bestill fra kantina
                    </a>
                    <a class="{{ 'active' if request.endpoint == 'bestille_fra_WAKEUP' else '' }}"
                        href="{{ url_for('bestille_fra_WAKEUP') }}">
                        <svg class="icon">
                            <use href="#icon-store"></use>
                        </svg> Bestill fra WAKEUP
                    </a>
                </div>
            </li>
            <li><a class="{{ 'active' if request.endpoint == 'mine_bestillinger'
                         or request.endpoint == 'vis_bestilling' else '' }}" href="{{ url_for('mine_bestillinger') }}">
                    <svg class="icon">
                        <use href="#icon-clipboard"></use>
                    </svg> Mine bestillinger
                </a></li>

            <!-- Kjøkken navbar -->
            {% elif session.get('active_role') == 'kjokken' %}
            <li class="nav-dropdown">
                <button class="nav-dropdown-toggle" type="button" data-dropdown-toggle aria-expanded="false">
                    <svg class="icon dropdown-toggle-icon">
                        <use href="#icon-plus"></use>
                    </svg>
                    Rediger meny
                </button>
                <div class="nav-dropdown-menu">
                    <a class="span-icon-holder {{ 'active' if request.endpoint == 'meny_editor' 
                         and request.view_args.get('menu_source') == 'Kantina' else '' }}"
                        href="{{ url_for('meny_editor', menu_source='Kantina') }}">
                        <span class="navbar-icon icon"></span> Rediger kantina meny
                    </a>
                    <a class="{{ 'active' if request.endpoint == 'meny_editor' 
                         and request.view_args.get('menu_source') == 'WAKEUP' else '' }}"
                        href="{{ url_for('meny_editor', menu_source='WAKEUP') }}">
                        <svg class="icon">
                            <use href="#icon-store"></use>
                        </svg> Rediger WAKEUP meny
                    </a>
                </div>
            </li>
            <li><a class="{{ 'active' if request.endpoint == 'aktive_bestillinger_i_kantinen'
                         or request.endpoint == 'vis_bestilling' else '' }}"
                    href="{{ url_for('aktive_bestillinger_i_kantinen') }}">
                    <svg class="icon">
                        <use href="#icon-chef-hat"></use>
                    </svg> Aktive bestillinger
                </a></li>

            <!-- Økonomi navbar -->
            {% elif session.get('active_role') == 'okonomi' %}
            <li>
                <a class="{{ 'active' if request.endpoint == 'ferdige_bestillinger'
                         or request.endpoint == 'vis_bestilling' else '' }}"
                    href="{{ url_for('ferdige_bestillinger') }}">
                    <svg class="icon">
                        <use href="#icon-order"></use>
                    </svg> Ferdige bestillinger
                </a>
            </li>

            <!-- Admin navbar -->
            {% elif session.get('active_role') == 'admin' %}
            <li>
                <a class="{{ 'active' if request.endpoint == 'admin_brukere' else '' }}"
                    href="{{ url_for('admin_brukere') }}">
                    <svg class="icon">
                        <use href="#icon-user-group"></use>
                    </svg> Brukere
                </a>
            </li>
            <li>
                <a class="{{ 'active' if request.endpoint == 'admin_bestillinger'
                         or request.endpoint == 'vis_bestilling' else '' }}"
                    href="{{ url_for('admin_bestillinger') }}">
                    <svg class="icon">
                        <use href="#icon-order"></use>
                    </svg> Alle bestillinger
                </a>
            </li>

            {% endif %}

            <li>
                <a class="{{ 'active' if request.endpoint == 'main_menu' else '' }}" href="{{ url_for('main_menu') }}">
                    <svg class="icon">
                        <use href="#icon-home"></use>
                    </svg> Hovedmeny</a>
            </li>
            <li>
                <a href="javascript:history.back()">
                    <svg class="icon">
                        <use href="#icon-back"></use>
                    </svg> Til forige side</a>
            </li>


            <li>
                <a href="{{ url_for('velg_rolle') }}">
                    <svg class="icon">
                        <use href="#icon-switch"></use>
                    </svg> Bytt rolle</a>
            </li>
            <li>
                <a href="{{ url_for('login') }}">
                    <svg class="icon">
                        <use href="#icon-logout"></use>
                    </svg> Logg ut</a>
            </li>
            <li class="theme-switch">
                <a href="#" id="themeToggle">
                    <svg class="icon" id="themeIconSVG">
                        <use id="themeIconUse" href="#icon-moon"></use>
                    </svg> Tema
                </a>
            </li>

        </ul>
    </div>

    <div class="nav-overlay" data-nav-close></div>
</nav>



<!-- Icon Library -->
<svg style="display:none;">
    <!-- Plus -->
    <symbol id="icon-plus" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M12 4.5v15m7.5-7.5h-15" />
    </symbol>

    <!-- Minus -->
    <symbol id="icon-minus" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M8 12h10" />
    </symbol>

    <!-- Home -->
    <symbol id="icon-home" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 
        1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 
        1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
    </symbol>

    <!-- Up -->
    <symbol id="icon-up" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="m4.5 15.75 7.5-7.5 7.5 7.5" />
    </symbol>

    <!-- Left -->
    <symbol id="icon-back" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M15.75 19.5 8.25 12l7.5-7.5" />
    </symbol>

    <!-- Group -->
    <symbol id="icon-user-group" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 
        .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 
        0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 
        0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 
        0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 
        1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" />
    </symbol>

    <!-- Save -->
    <symbol id="icon-save" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 
        7.5m8.25 3v6.75m0 0-3-3m3 3 3-3M3.375 7.5h17.25c.621 0 1.125-.504 
        1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 
        .621.504 1.125 1.125 1.125Z" />
    </symbol>

    <!-- Clipboard -->
    <symbol id="icon-order" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 
        2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 
        0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 
        .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 
        2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 
        0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 
        1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 
        3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z" />
    </symbol>

    <!-- Pencil -->
    <symbol id="icon-edit" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 
        1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 
        14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
    </symbol>

    <!-- Magnifying glass -->
    <symbol id="icon-search" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
    </symbol>


    <!-- Trash -->
    <symbol id="icon-trash" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 
        19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 
        48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 
        0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 
        0a48.667 48.667 0 0 0-7.5 0" />
    </symbol>

    <!-- Switch -->
    <symbol id="icon-switch" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5" />
    </symbol>

    <!-- Moon -->
    <symbol id="icon-moon" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 
        0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 
        21a9.753 9.753 0 0 0 9.002-5.998Z" />
    </symbol>

    <!-- Sun -->
    <symbol id="icon-sun" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 
        18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 
        3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
    </symbol>

    <!-- Arrow right start on rectangle -->
    <symbol id="icon-logout" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 
        0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" />
    </symbol>

    <!-- Arrow right -->
    <symbol id="icon-arrow-right" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
    </symbol>

    <!-- Arrow left -->
    <symbol id="icon-arrow-left" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
    </symbol>

    <!-- Arrow up -->
    <symbol id="icon-arrow-up" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18" />
    </symbol>

    <!-- Arrow down -->
    <symbol id="icon-arrow-down" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3" />
    </symbol>


    <!-- Store -->
    <symbol id="icon-store" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 
        0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 
        0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 
        3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 
        1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 
        0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z" />
    </symbol>

    <!-- Clipboard checklist -->
    <symbol id="icon-clipboard" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 5h6m-6 4h6m-6 4h3" />
        <rect x="5" y="3" width="14" height="18" rx="2" />
    </symbol>

    <!-- Cutlery -->
    <symbol id="icon-cutlery" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M50.57,55.239C27.758,29.036-13.992,53.833,4.68,95.145c12.438,27.563,36.469,94.922,70.016,143.438 
        c33.563,48.516,69.328,43.328,105.453,55.078l25.953,13.422l177.547,204.204l35.906-31.234l0.188-0.156 
        c-5.25-6.047-166.719-191.782-230.563-265.204C125.992,142.02,61.664,68.004,50.57,55.239z" />
        <path
            d="M476.664,93.551l-61.938,71.266c-3.969,4.563-10.859,5.031-15.422,1.063l-2.203-1.906 
        c-4.531-3.953-5.031-10.844-1.063-15.406l62.234-71.594c10.219-11.734,5.375-22.125-2.219-28.719 
        c-7.578-6.578-18.531-9.938-28.75,1.813l-62.234,71.594c-3.953,4.547-10.859,5.031-15.406,1.063l-2.188-1.906 
        c-4.563-3.953-5.047-10.859-1.094-15.406l61.953-71.266c18.297-21.031-12.297-46.375-30.156-25.828 
        c-21.391,24.594-59.156,68.031-59.156,68.031c-33,37.688-32.5,55.344-27.844,80.078c3.781,19.938,9.328,
        34.281-11.156,57.844 l-30.234,34.781l31.719,36.453l34.641-39.844c20.469-23.547,35.453-20.047,55.719-19.094c25.156,
        1.203,42.703-0.766,75.422-38.672 c0,0,37.766-43.469,59.156-68.063C524.305,99.286,494.945,72.536,476.664,93.551z" />
    </symbol>

    <!-- Coffee cup -->
    <symbol id="icon-coffee" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 8h15a3 3 0 0 1 0 6H3zM18 8v6a5 5 0 0 1-5 5H8a5 5 0 0 1-5-5V8" />
    </symbol>

    <!-- Chef Hat -->
    <symbol id="icon-chef-hat" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="1.5">
        <path d="M19 18H19.75H19ZM5 14.584H5.75C5.75 14.2859 5.57345 14.016 5.30028 13.8967L5 14.584ZM19 
        14.584L18.6997 13.8967C18.4265 14.016 18.25 14.2859 18.25 14.584H19ZM15.75 7C15.75 7.41421 16.0858 
        7.75 16.5 7.75C16.9142 7.75 17.25 7.41421 17.25 7H15.75ZM6.75 7C6.75 7.41421 7.08579 7.75 7.5 7.75C7.91421 
        7.75 8.25 7.41421 8.25 7H6.75ZM7 4.25C3.82436 4.25 1.25 6.82436 1.25 10H2.75C2.75 7.65279 4.65279 5.75 7 
        5.75V4.25ZM17 5.75C19.3472 5.75 21.25 7.65279 21.25 10H22.75C22.75 6.82436 20.1756 4.25 17 4.25V5.75ZM15 
        21.25H9V22.75H15V21.25ZM9 21.25C8.03599 21.25 7.38843 21.2484 6.90539 21.1835C6.44393 21.1214 6.24643 
        21.0142 6.11612 20.8839L5.05546 21.9445C5.51093 22.4 6.07773 22.5857 6.70552 22.6701C7.31174 22.7516 
        8.07839 22.75 9 22.75V21.25ZM4.25 18C4.25 18.9216 4.24841 19.6883 4.32991 20.2945C4.41432 20.9223 
        4.59999 21.4891 5.05546 21.9445L6.11612 20.8839C5.9858 20.7536 5.87858 20.5561 5.81654 20.0946C5.75159 
        19.6116 5.75 18.964 5.75 18H4.25ZM18.25 18C18.25 18.964 18.2484 19.6116 18.1835 20.0946C18.1214 20.5561 
        18.0142 20.7536 17.8839 20.8839L18.9445 21.9445C19.4 21.4891 19.5857 20.9223 19.6701 20.2945C19.7516 
        19.6883 19.75 18.9216 19.75 18H18.25ZM15 22.75C15.9216 22.75 16.6883 22.7516 17.2945 22.6701C17.9223 
        22.5857 18.4891 22.4 18.9445 21.9445L17.8839 20.8839C17.7536 21.0142 17.5561 21.1214 17.0946 
        21.1835C16.6116 21.2484 15.964 21.25 15 21.25V22.75ZM7 5.75C7.2137 5.75 7.42326 5.76571 7.6277 
        5.79593L7.84703 4.31205C7.57021 4.27114 7.28734 4.25 7 4.25V5.75ZM12 1.25C9.68949 1.25 7.72942 
        2.7421 7.02709 4.81312L8.44763 5.29486C8.94981 3.81402 10.3516 2.75 12 2.75V1.25ZM7.02709 
        4.81312C6.84722 5.34352 6.75 5.91118 6.75 6.5H8.25C8.25 6.07715 8.3197 5.67212 8.44763 5.29486L7.02709 
        4.81312ZM17 4.25C16.7127 4.25 16.4298 4.27114 16.153 4.31205L16.3723 5.79593C16.5767 5.76571 16.7863 
        5.75 17 5.75V4.25ZM12 2.75C13.6484 2.75 15.0502 3.81402 15.5524 5.29486L16.9729 4.81312C16.2706 2.7421 
        14.3105 1.25 12 1.25V2.75ZM15.5524 5.29486C15.6803 5.67212 15.75 6.07715 15.75 6.5H17.25C17.25 5.91118 
        17.1528 5.34352 16.9729 4.81312L15.5524 5.29486ZM5.75 18V14.584H4.25V18H5.75ZM5.30028 13.8967C3.79769 
        13.2402 2.75 11.7416 2.75 10H1.25C1.25 12.359 2.6705 14.3846 4.69972 15.2712L5.30028 13.8967ZM18.25 
        14.584L18.25 18H19.75L19.75 14.584H18.25ZM21.25 10C21.25 11.7416 20.2023 13.2402 18.6997 13.8967L19.3003 
        15.2712C21.3295 14.3846 22.75 12.359 22.75 10H21.25ZM15.75 6.5V7H17.25V6.5H15.75ZM6.75 6.5V7H8.25V6.5H6.75Z" />
    </symbol>
</svg>